webpackJsonp([3],{"5kSt":function(e,a,r){"use strict";r.d(a,"c",function(){return o}),r.d(a,"a",function(){return c});var t=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e},o={GET_DATA_REQUEST:"PAGE/GET_DATA_REQUEST",GET_DATA_SUCCESS:"PAGE/GET_DATA_SUCCESS",GET_DATA_FAIL:"PAGE/GET_DATA_FAIL",SET_DATA:"PAGE/SET_DATA"},n={_id:"",full_code:"",name:"",plan:{date:"",good_code_1c:"",price:0,account:"",coef_si_div_iu:0},fact:{date:"",good_code_1c:"",price:0,account:"",coef_si_div_iu:0},loading:!1,search_order_number:"",search_material_key:"",errors:[]};a.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n,a=arguments[1];switch(a.type){case o.GET_DATA_REQUEST:return t({},e,{loading:!0});case o.GET_DATA_SUCCESS:return t({},e,{loading:!1},a.payload);case o.GET_DATA_FAIL:return t({},e,{loading:!1,errors:a.payload});case o.SET_DATA:return t({},e,a.data);default:return e}};var c={getData:function(e){return{type:o.GET_DATA_REQUEST,queryData:e}},setData:function(e){return{type:o.SET_DATA,data:e}}}},Ey0I:function(e,a){e.exports={mainForm:"__mainForm___1GY07",controlLabel:"__controlLabel___1rRYF",searchBox:"__searchBox___3-vyu",messageBox:"__messageBox___1bAMY",dataBox:"__dataBox___1cdC8",lightBorder:"__lightBorder___1dmnz"}},Itth:function(e,a,r){"use strict";r.d(a,"a",function(){return v});var t=r("U7vG"),o=r.n(t),n=r("KSGD"),c=(r.n(n),r("qMoa")),i=r.n(c),s=r("dSCi"),l=r("m9d9"),d=r("Ey0I"),u=r.n(d),m=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(a,r,t,o){var n=a&&a.defaultProps,c=arguments.length-3;if(r||0===c||(r={}),r&&n)for(var i in n)void 0===r[i]&&(r[i]=n[i]);else r||(r=n||{});if(1===c)r.children=o;else if(c>1){for(var s=Array(c),l=0;l<c;l++)s[l]=arguments[l+3];r.children=s}return{$$typeof:e,type:a,key:void 0===t?null:""+t,ref:null,props:r,_owner:null}}}(),v=function(e){return m("div",{className:u.a.root},void 0,m(i.a,{loaded:!e.fetching,options:{length:10,width:8,radius:20,color:"#000",trail:40},className:u.a.spinner},void 0,o.a.createElement(s.a,e),m(l.a,{})))};v.defaultProps={fetching:!1}},Lt5O:function(e,a,r){"use strict";function t(){return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(c.all)([Object(c.takeLatest)(s.c.GET_DATA_REQUEST,i.a),Object(c.takeLatest)(l.c.GET_DATA_REQUEST,d.a)]);case 2:case"end":return e.stop()}},u,this)}a.a=t;var o=r("Xxa5"),n=r.n(o),c=r("egdi"),i=r("+WPO"),s=r("TRMA"),l=r("5kSt"),d=r("O/vj"),u=n.a.mark(t)},"O/vj":function(e,a,r){"use strict";function t(){var e,a;return n.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(c.select)(function(e){return e.page});case 3:if(e=r.sent,e.errors=u(e),!(e.errors.length>0)){r.next=11;break}return e.loading=!1,r.next=9,Object(c.put)({type:s.c.SET_DATA,data:e});case 9:r.next=21;break;case 11:return r.next=13,Object(c.call)(i.a,JSON.stringify({search_material_key:e.search_material_key,search_order_number:e.search_order_number}));case 13:if(a=r.sent,"ok"!==a.status){r.next=19;break}return r.next=17,Object(c.put)({type:s.c.GET_DATA_SUCCESS,payload:l({},a.data)});case 17:r.next=21;break;case 19:return r.next=21,Object(c.put)({type:s.c.GET_DATA_FAIL,payload:[{key:"get_data",header:"Ошибка! ",msg:a.msg}]});case 21:r.next=27;break;case 23:return r.prev=23,r.t0=r.catch(0),r.next=27,Object(c.put)({type:s.c.GET_DATA_FAIL,payload:[{key:"get_data",header:"Ошибка сервера! ",msg:r.t0.msg}]});case 27:case"end":return r.stop()}},d,this,[[0,23]])}a.a=t;var o=r("Xxa5"),n=r.n(o),c=r("egdi"),i=r("hFDG"),s=r("5kSt"),l=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e},d=n.a.mark(t),u=function(e){var a=[];return e.search_material_key?e.search_material_key.split(".").length<2&&a.push({key:"search_material_key",header:"Ошибка!",msg:"Неверный формат кода материала."}):a.push({key:"search_material_key",header:"Ошибка!",msg:"Введите код материала."}),e.search_order_number&&3!==e.search_order_number.split(".").length&&a.push({key:"search_order_number",header:"Ошибка!",msg:"Неверный формат номера заказа."}),a}},UPHc:function(e,a,r){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var t=r("U7vG"),o=(r.n(t),r("O27J")),n=(r.n(o),r("RH2O")),c=r("TRMA"),i=r("hlZK"),s=r("beaI"),l=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(a,r,t,o){var n=a&&a.defaultProps,c=arguments.length-3;if(r||0===c||(r={}),r&&n)for(var i in n)void 0===r[i]&&(r[i]=n[i]);else r||(r=n||{});if(1===c)r.children=o;else if(c>1){for(var s=Array(c),l=0;l<c;l++)s[l]=arguments[l+3];r.children=s}return{$$typeof:e,type:a,key:void 0===t?null:""+t,ref:null,props:r,_owner:null}}}(),d=Object(i.a)();Object(o.render)(l(n.Provider,{store:d},void 0,l(s.a,{})),document.getElementById("root")),d.dispatch(c.a.getCommonData("material-price-page"))},"atw/":function(e,a,r){"use strict";var t=r("2KeS"),o=r("TRMA"),n=r("5kSt");a.a=Object(t.combineReducers)({common:o.b,page:n.b})},beaI:function(e,a,r){"use strict";var t=r("RH2O"),o=r("Itth");a.a=Object(t.connect)(function(e){return{fetching:e.common.fetching,user:e.common.user,menu:e.common.menu,currentPage:e.common.currentPage,msg:e.common.msg}})(o.a)},hFDG:function(e,a,r){"use strict";r.d(a,"a",function(){return o});var t=r("NQpv"),o=function(e){return fetch("/material-price-page/get",{credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:e}).then(t.a).then(function(e){return e.json()}).then(function(e){return e})}},hlZK:function(e,a,r){"use strict";function t(e){var a=Object(o.createStore)(i.a,e,Object(c.composeWithDevTools)(Object(o.applyMiddleware)(l)));return l.run(s.a),a}a.a=t;var o=r("2KeS"),n=r("igqX"),c=r("gFN5"),i=(r.n(c),r("atw/")),s=r("Lt5O"),l=Object(n.default)()},iYA8:function(e,a,r){"use strict";var t=r("U7vG"),o=r.n(t),n=r("KSGD"),c=(r.n(n),r("qMoa")),i=r.n(c),s=r("rO21"),l=r("Ey0I"),d=r.n(l),u=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(a,r,t,o){var n=a&&a.defaultProps,c=arguments.length-3;if(r||0===c||(r={}),r&&n)for(var i in n)void 0===r[i]&&(r[i]=n[i]);else r||(r=n||{});if(1===c)r.children=o;else if(c>1){for(var s=Array(c),l=0;l<c;l++)s[l]=arguments[l+3];r.children=s}return{$$typeof:e,type:a,key:void 0===t?null:""+t,ref:null,props:r,_owner:null}}}(),m=function(e){return u("div",{className:"container"},void 0,u("div",{className:"row"},void 0,u("div",{className:"col-md-10 col-md-offset-1"},void 0,u("form",{className:"form-horizontal "+d.a.mainForm},void 0,o.a.createElement(v,e),o.a.createElement(p,e),o.a.createElement(f,e)))),u(i.a,{loaded:!e.loading,options:{length:10,width:8,radius:20,color:"#000",trail:40},className:d.a.spinner}))};m.defaultProps={errors:[]};var v=function(e){return u("fieldset",{className:""+d.a.searchBox},void 0,u("legend",{},void 0,"Заполните параметры поиска"),u("div",{className:"form-group"},void 0,u("div",{className:"col-sm-4"},void 0,u("label",{className:"control-label col-sm-3 "+d.a.controlLabel,htmlFor:"tbOrderNumber"},void 0,u("strong",{},void 0,"Заказ:")),u("div",{className:"col-sm-8"},void 0,u("input",{id:"tbOrderNumber",className:"form-control",placeholder:"1313.1.1",type:"text",value:e.search_order_number,onChange:function(a){e.setData({search_order_number:a.target.value})}}))),u("div",{className:"col-sm-5"},void 0,u("label",{className:"control-label col-sm-4 "+d.a.controlLabel,htmlFor:"tbMaterialKey"},void 0,u("strong",{},void 0,"Материал:")),u("div",{className:"col-sm-7"},void 0,u("input",{id:"tbMaterialKey",className:"form-control",placeholder:"9.11.4",type:"text",value:e.search_material_key,onChange:function(a){e.setData({search_material_key:a.target.value})}}))),u("div",{className:"col-sm-3"},void 0,u("div",{className:"pull-right"},void 0,u("button",{type:"button",className:"btn btn-primary",style:{marginRight:"20px"},disabled:e.loading?"true":"",onClick:function(){e.getData()}},void 0,"Показать")))))},f=function(e){return u("div",{className:"row "+d.a.dataBox},void 0,u("div",{className:"col-sm-12"},void 0,u("div",{className:"row"},void 0,u(_,{header:"Плановая цена материала",data:e.plan}),u(_,{header:"Фактическая цена материала",data:e.fact}))))};f.defaultProps={plan:{},fact:{}};var _=function(e){var a=e.header,r=e.data;return u("div",{className:"col-sm-6",style:r&&r.price>0?{}:{display:"none"}},void 0,u("div",{className:"col-md-12"},void 0,u("div",{className:"form-horizontal "+d.a.mainForm},void 0,u("fieldset",{},void 0,u("legend",{},void 0,u("small",{},void 0,a)),u("div",{className:"form-group"},void 0,u("span",{className:"col-sm-4 "+d.a.controlLabel},void 0,"Документ:"),u("div",{className:"col-sm-8 "+d.a.lightBorder},void 0,r.account," ")),u("div",{className:"form-group"},void 0,u("span",{className:"col-sm-4 "+d.a.controlLabel},void 0,"Цена:"),u("div",{className:"col-sm-8 "+d.a.lightBorder},void 0,Object(s.a)(r.price)," ")),u("div",{className:"form-group"},void 0,u("span",{className:"col-sm-4 "+d.a.controlLabel},void 0,"Дата:"),u("div",{className:"col-sm-8 "+d.a.lightBorder},void 0,r.date?Object(s.e)(r.date,"YYYY-MM-DDTHH:mm").format("DD.MM.YYYY"):""," ")),u("div",{className:"form-group"},void 0,u("span",{className:"col-sm-4 "+d.a.controlLabel},void 0,"Код товара:"),u("div",{className:"col-sm-8 "+d.a.lightBorder},void 0,r.good_code_1c," ")),u("div",{className:"form-group"},void 0,u("span",{className:"col-sm-4 "+d.a.controlLabel},void 0,"Коэффициент:"),u("div",{className:"col-sm-8 "+d.a.lightBorder},void 0,r.coef_si_div_iu," "))))))};_.defaultProps={data:{},header:"",name:"",code:""};var p=function(e){return u("div",{className:"formGroup "+d.a.messageBox},void 0,u("div",{className:"col-sm-12"},void 0,u("div",{className:"alert alert-danger",role:"alert",style:e.errors.length>0?{}:{display:"none"}},void 0,e.errors.map(function(e){return u("div",{},e.key,u("strong",{},void 0,e.header)," ",e.msg)}))))};p.defaultProps={errors:[]},a.a=m},m9d9:function(e,a,r){"use strict";var t=r("2KeS"),o=r("RH2O"),n=r("iYA8"),c=r("5kSt"),i=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e};a.a=Object(o.connect)(function(e){return i({},e.page)},function(e){return{setData:Object(t.bindActionCreators)(c.a.setData,e),getData:Object(t.bindActionCreators)(c.a.getData,e)}})(n.a)}},["UPHc"]);
//# sourceMappingURL=6bda9e577182e869b019.bundle.js.map