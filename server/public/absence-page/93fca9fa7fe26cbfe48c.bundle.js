webpackJsonp([0],{"+fru":function(e,t,a){"use strict";a.d(t,"d",function(){return o}),a.d(t,"c",function(){return s}),a.d(t,"a",function(){return r});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},o={SAVE_DATA_REQUEST:"PAGE/SAVE_DATA_REQUEST",SAVE_DATA_SUCCESS:"PAGE/SAVE_DATA_SUCCESS",SAVE_DATA_FAIL:"PAGE/SAVE_DATA_FAIL",CHECK_DATA:"PAGE/CHECK_DATA",SET_VIEW_MODE:"PAGE/SET_VIEW_MODE",SET_EDIT_MODE:"PAGE/SET_EDIT_MODE",SET_RESULT_MODE:"PAGE/SET_RESULT_MODE",SET_DATA:"PAGE/SET_DATA"},s={reason:"",is_full_day:"yes",date_from:"",date_to:"",notify_moscow:!1,notify_kaluga:!1,notify_penza:!1,comment:"",mode:"edit",saving:!1,errors:[],reasons:[{key:"personal",name:"По личным делам"},{key:"work",name:"По рабочим делам"},{key:"holiday",name:"Отпуск"},{key:"business_trip",name:"Командировка"}]};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments[1];switch(t.type){case o.SET_VIEW_MODE:return n({},e,{mode:"view"});case o.SET_EDIT_MODE:return n({},e,{mode:"edit"});case o.SET_RESULT_MODE:return n({},e,{mode:"result"});case o.SAVE_DATA_REQUEST:return n({},e,{saving:!0});case o.SAVE_DATA_SUCCESS:return n({},e,{saving:!1});case o.SAVE_DATA_FAIL:return n({},e,{saving:!1,errors:t.payload});case o.SET_DATA:return n({},e,t.data);default:return e}};var r={checkData:function(){return{type:o.CHECK_DATA}},setEditMode:function(){return{type:o.SET_EDIT_MODE}},setResultMode:function(){return{type:o.SET_RESULT_MODE}},setData:function(e){return{type:o.SET_DATA,data:e}},saveData:function(){return{type:o.SAVE_DATA_REQUEST}}}},"5f0w":function(e,t,a){"use strict";var n=a("2KeS"),o=a("TRMA"),s=a("+fru");t.a=Object(n.combineReducers)({common:o.b,page:s.b})},"6rjW":function(e,t,a){"use strict";var n=a("U7vG"),o=a("DT0+"),s=a("qFNz").default,r=s(o({render:function(){var e=10*parseInt(this.props.viewDate.year()/10,10);return n.createElement("div",{className:"rdtYears"},[n.createElement("table",{key:"a"},n.createElement("thead",{},n.createElement("tr",{},[n.createElement("th",{key:"prev",className:"rdtPrev",onClick:this.props.subtractTime(10,"years")},n.createElement("span",{},"‹")),n.createElement("th",{key:"year",className:"rdtSwitch",onClick:this.props.showView("years"),colSpan:2},e+"-"+(e+9)),n.createElement("th",{key:"next",className:"rdtNext",onClick:this.props.addTime(10,"years")},n.createElement("span",{},"›"))]))),n.createElement("table",{key:"years"},n.createElement("tbody",{},this.renderYears(e)))])},renderYears:function(e){var t,a,o,s,r,i,c,l=[],d=-1,u=[],m=this.props.renderYear||this.renderYear,p=this.props.selectedDate,f=this.props.isValidDate||this.alwaysValidDate;for(e--;d<11;)t="rdtYear",o=this.props.viewDate.clone().set({year:e,month:0,date:1}),r=o.endOf("year").format("DDD"),i=Array.from({length:r},function(e,t){return t+1}),c=i.find(function(e){var t=o.clone().dayOfYear(e);return f(t)}),s=void 0===c,s&&(t+=" rdtDisabled"),p&&p.year()===e&&(t+=" rdtActive"),a={key:e,"data-value":e,className:t},s||(a.onClick="years"===this.props.updateOn?this.updateSelectedYear:this.props.setDate("year")),l.push(m(a,e,p&&p.clone())),4===l.length&&(u.push(n.createElement("tr",{key:d},l)),l=[]),e++,d++;return u},updateSelectedYear:function(e){this.props.updateSelectedDate(e)},renderYear:function(e,t){return n.createElement("td",e,t)},alwaysValidDate:function(){return 1},handleClickOutside:function(){this.props.handleClickOutside()}}));e.exports=r},"8ijy":function(e,t,a){"use strict";var n=a("BEQ0"),o=a("KSGD"),s=a("DT0+"),r=a("PJh5"),i=a("U7vG"),c=a("hu8i"),l=o,d=s({propTypes:{onFocus:l.func,onBlur:l.func,onChange:l.func,onViewModeChange:l.func,locale:l.string,utc:l.bool,input:l.bool,inputProps:l.object,timeConstraints:l.object,viewMode:l.oneOf(["years","months","days","time"]),isValidDate:l.func,open:l.bool,strictParsing:l.bool,closeOnSelect:l.bool,closeOnTab:l.bool},getDefaultProps:function(){var e=function(){};return{className:"",defaultValue:"",inputProps:{},input:!0,onFocus:e,onBlur:e,onChange:e,onViewModeChange:e,timeFormat:!0,timeConstraints:{},dateFormat:!0,strictParsing:!0,closeOnSelect:!1,closeOnTab:!0,utc:!1}},getInitialState:function(){var e=this.getStateFromProps(this.props);return void 0===e.open&&(e.open=!this.props.input),e.currentView=this.props.dateFormat?this.props.viewMode||e.updateOn||"days":"time",e},getStateFromProps:function(e){var t,a,n,o,s=this.getFormats(e),r=e.value||e.defaultValue;return r&&"string"==typeof r?t=this.localMoment(r,s.datetime):r&&(t=this.localMoment(r)),t&&!t.isValid()&&(t=null),a=t?t.clone().startOf("month"):this.localMoment().startOf("month"),n=this.getUpdateOn(s),o=t?t.format(s.datetime):r.isValid&&!r.isValid()?"":r||"",{updateOn:n,inputFormat:s.datetime,viewDate:a,selectedDate:t,inputValue:o,open:e.open}},getUpdateOn:function(e){return e.date.match(/[lLD]/)?"days":-1!==e.date.indexOf("M")?"months":-1!==e.date.indexOf("Y")?"years":"days"},getFormats:function(e){var t={date:e.dateFormat||"",time:e.timeFormat||""},a=this.localMoment(e.date,null,e).localeData();return!0===t.date?t.date=a.longDateFormat("L"):"days"!==this.getUpdateOn(t)&&(t.time=""),!0===t.time&&(t.time=a.longDateFormat("LT")),t.datetime=t.date&&t.time?t.date+" "+t.time:t.date||t.time,t},componentWillReceiveProps:function(e){var t=this.getFormats(e),a={};if(e.value===this.props.value&&t.datetime===this.getFormats(this.props).datetime||(a=this.getStateFromProps(e)),void 0===a.open&&(void 0!==e.open?a.open=e.open:this.props.closeOnSelect&&"time"!==this.state.currentView?a.open=!1:a.open=this.state.open),e.viewMode!==this.props.viewMode&&(a.currentView=e.viewMode),e.locale!==this.props.locale){if(this.state.viewDate){var n=this.state.viewDate.clone().locale(e.locale);a.viewDate=n}if(this.state.selectedDate){var o=this.state.selectedDate.clone().locale(e.locale);a.selectedDate=o,a.inputValue=o.format(t.datetime)}}e.utc!==this.props.utc&&(e.utc?(this.state.viewDate&&(a.viewDate=this.state.viewDate.clone().utc()),this.state.selectedDate&&(a.selectedDate=this.state.selectedDate.clone().utc(),a.inputValue=a.selectedDate.format(t.datetime))):(this.state.viewDate&&(a.viewDate=this.state.viewDate.clone().local()),this.state.selectedDate&&(a.selectedDate=this.state.selectedDate.clone().local(),a.inputValue=a.selectedDate.format(t.datetime)))),this.setState(a)},onInputChange:function(e){var t=null===e.target?e:e.target.value,a=this.localMoment(t,this.state.inputFormat),n={inputValue:t};return a.isValid()&&!this.props.value?(n.selectedDate=a,n.viewDate=a.clone().startOf("month")):n.selectedDate=null,this.setState(n,function(){return this.props.onChange(a.isValid()?a:this.state.inputValue)})},onInputKey:function(e){9===e.which&&this.props.closeOnTab&&this.closeCalendar()},showView:function(e){var t=this;return function(){t.state.currentView!==e&&t.props.onViewModeChange(e),t.setState({currentView:e})}},setDate:function(e){var t=this,a={month:"days",year:"months"};return function(n){t.setState({viewDate:t.state.viewDate.clone()[e](parseInt(n.target.getAttribute("data-value"),10)).startOf(e),currentView:a[e]}),t.props.onViewModeChange(a[e])}},addTime:function(e,t,a){return this.updateTime("add",e,t,a)},subtractTime:function(e,t,a){return this.updateTime("subtract",e,t,a)},updateTime:function(e,t,a,n){var o=this;return function(){var s={},r=n?"selectedDate":"viewDate";s[r]=o.state[r].clone()[e](t,a),o.setState(s)}},allowedSetTime:["hours","minutes","seconds","milliseconds"],setTime:function(e,t){var a,n=this.allowedSetTime.indexOf(e)+1,o=this.state,s=(o.selectedDate||o.viewDate).clone();for(s[e](t);n<this.allowedSetTime.length;n++)a=this.allowedSetTime[n],s[a](s[a]());this.props.value||this.setState({selectedDate:s,inputValue:s.format(o.inputFormat)}),this.props.onChange(s)},updateSelectedDate:function(e,t){var a,n=e.target,o=0,s=this.state.viewDate,r=this.state.selectedDate||s;if(-1!==n.className.indexOf("rdtDay")?(-1!==n.className.indexOf("rdtNew")?o=1:-1!==n.className.indexOf("rdtOld")&&(o=-1),a=s.clone().month(s.month()+o).date(parseInt(n.getAttribute("data-value"),10))):-1!==n.className.indexOf("rdtMonth")?a=s.clone().month(parseInt(n.getAttribute("data-value"),10)).date(r.date()):-1!==n.className.indexOf("rdtYear")&&(a=s.clone().month(r.month()).date(r.date()).year(parseInt(n.getAttribute("data-value"),10))),a.hours(r.hours()).minutes(r.minutes()).seconds(r.seconds()).milliseconds(r.milliseconds()),this.props.value)this.props.closeOnSelect&&t&&this.closeCalendar();else{var i=!(this.props.closeOnSelect&&t);i||this.props.onBlur(a),this.setState({selectedDate:a,viewDate:a.clone().startOf("month"),inputValue:a.format(this.state.inputFormat),open:i})}this.props.onChange(a)},openCalendar:function(e){this.state.open||this.setState({open:!0},function(){this.props.onFocus(e)})},closeCalendar:function(){this.setState({open:!1},function(){this.props.onBlur(this.state.selectedDate||this.state.inputValue)})},handleClickOutside:function(){this.props.input&&this.state.open&&!this.props.open&&this.setState({open:!1},function(){this.props.onBlur(this.state.selectedDate||this.state.inputValue)})},localMoment:function(e,t,a){a=a||this.props;var n=a.utc?r.utc:r,o=n(e,t,a.strictParsing);return a.locale&&o.locale(a.locale),o},componentProps:{fromProps:["value","isValidDate","renderDay","renderMonth","renderYear","timeConstraints"],fromState:["viewDate","selectedDate","updateOn"],fromThis:["setDate","setTime","showView","addTime","subtractTime","updateSelectedDate","localMoment","handleClickOutside"]},getComponentProps:function(){var e=this,t=this.getFormats(this.props),a={dateFormat:t.date,timeFormat:t.time};return this.componentProps.fromProps.forEach(function(t){a[t]=e.props[t]}),this.componentProps.fromState.forEach(function(t){a[t]=e.state[t]}),this.componentProps.fromThis.forEach(function(t){a[t]=e[t]}),a},render:function(){var e="rdt"+(this.props.className?Array.isArray(this.props.className)?" "+this.props.className.join(" "):" "+this.props.className:""),t=[];if(this.props.input){var a=n({type:"text",className:"form-control",onClick:this.openCalendar,onFocus:this.openCalendar,onChange:this.onInputChange,onKeyDown:this.onInputKey,value:this.state.inputValue},this.props.inputProps);t=this.props.renderInput?[i.createElement("div",{key:"i"},this.props.renderInput(a,this.openCalendar))]:[i.createElement("input",n({key:"i"},a))]}else e+=" rdtStatic";return this.state.open&&(e+=" rdtOpen"),i.createElement("div",{className:e},t.concat(i.createElement("div",{key:"dt",className:"rdtPicker"},i.createElement(c,{view:this.state.currentView,viewProps:this.getComponentProps(),onClickOutside:this.handleClickOutside}))))}});d.moment=r,e.exports=d},"A+wH":function(e,t,a){"use strict";a.d(t,"a",function(){return o});var n=a("NQpv"),o=function(e){return fetch("/absence-page/save",{credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:e}).then(n.a).then(function(e){return e.json()}).then(function(e){return e})}},BQ7U:function(e,t,a){"use strict";var n=a("U7vG"),o=a("DT0+"),s=a("PJh5"),r=a("qFNz").default,i=r(o({render:function(){var e,t=this.renderFooter(),a=this.props.viewDate,o=a.localeData();return e=[n.createElement("thead",{key:"th"},[n.createElement("tr",{key:"h"},[n.createElement("th",{key:"p",className:"rdtPrev",onClick:this.props.subtractTime(1,"months")},n.createElement("span",{},"‹")),n.createElement("th",{key:"s",className:"rdtSwitch",onClick:this.props.showView("months"),colSpan:5,"data-value":this.props.viewDate.month()},o.months(a)+" "+a.year()),n.createElement("th",{key:"n",className:"rdtNext",onClick:this.props.addTime(1,"months")},n.createElement("span",{},"›"))]),n.createElement("tr",{key:"d"},this.getDaysOfWeek(o).map(function(e,t){return n.createElement("th",{key:e+t,className:"dow"},e)}))]),n.createElement("tbody",{key:"tb"},this.renderDays())],t&&e.push(t),n.createElement("div",{className:"rdtDays"},n.createElement("table",{},e))},getDaysOfWeek:function(e){var t=e._weekdaysMin,a=e.firstDayOfWeek(),n=[],o=0;return t.forEach(function(e){n[(7+o++-a)%7]=e}),n},renderDays:function(){var e,t,a,o,r=this.props.viewDate,i=this.props.selectedDate&&this.props.selectedDate.clone(),c=r.clone().subtract(1,"months"),l=r.year(),d=r.month(),u=[],m=[],p=this.props.renderDay||this.renderDay,f=this.props.isValidDate||this.alwaysValidDate;c.date(c.daysInMonth()).startOf("week");for(var h=c.clone().add(42,"d");c.isBefore(h);)e="rdtDay",o=c.clone(),c.year()===l&&c.month()<d||c.year()<l?e+=" rdtOld":(c.year()===l&&c.month()>d||c.year()>l)&&(e+=" rdtNew"),i&&c.isSame(i,"day")&&(e+=" rdtActive"),c.isSame(s(),"day")&&(e+=" rdtToday"),t=!f(o,i),t&&(e+=" rdtDisabled"),a={key:c.format("M_D"),"data-value":c.date(),className:e},t||(a.onClick=this.updateSelectedDate),m.push(p(a,o,i)),7===m.length&&(u.push(n.createElement("tr",{key:c.format("M_D")},m)),m=[]),c.add(1,"d");return u},updateSelectedDate:function(e){this.props.updateSelectedDate(e,!0)},renderDay:function(e,t){return n.createElement("td",e,t.date())},renderFooter:function(){if(!this.props.timeFormat)return"";var e=this.props.selectedDate||this.props.viewDate;return n.createElement("tfoot",{key:"tf"},n.createElement("tr",{},n.createElement("td",{onClick:this.props.showView("time"),colSpan:7,className:"rdtTimeToggle"},e.format(this.props.timeFormat))))},alwaysValidDate:function(){return 1},handleClickOutside:function(){this.props.handleClickOutside()}}));e.exports=i},EvIk:function(e,t,a){"use strict";var n=a("2KeS"),o=a("RH2O"),s=a("a7ZT"),r=a("+fru"),i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};t.a=Object(o.connect)(function(e){return i({weekends:e.common.weekends},e.page)},function(e){return{setData:Object(n.bindActionCreators)(r.a.setData,e),saveData:Object(n.bindActionCreators)(r.a.saveData,e),previewData:Object(n.bindActionCreators)(r.a.checkData,e)}})(s.a)},FCou:function(e,t,a){"use strict";function n(){var e;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(c.select)(function(e){return e.page});case 2:if(e=t.sent,e.errors=v(e),!(e.errors.length>0)){t.next=9;break}return t.next=7,Object(c.put)({type:u.d.SET_DATA,data:e});case 7:t.next=11;break;case 9:return t.next=11,Object(c.put)({type:u.d.SET_VIEW_MODE});case 11:case"end":return t.stop()}},p,this)}function o(){var e,t;return i.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(c.select)(function(e){return e});case 3:return e=a.sent,a.next=6,Object(c.call)(d.a,JSON.stringify(e.page));case 6:if(t=a.sent,"ok"!==t.status){a.next=12;break}return a.next=10,Object(c.put)(u.a.setData(m({},u.c,{saving:!1,date_from:Object(l.b)(e.common.weekends).format("DD.MM.YYYY HH:mm"),date_to:Object(l.b)(e.common.weekends).add(60,"m").format("DD.MM.YYYY HH:mm"),mode:"result"})));case 10:a.next=14;break;case 12:return a.next=14,Object(c.put)({type:u.d.SAVE_DATA_FAIL,payload:[{key:"save_data",header:"Ошибка сохранения!",msg:t.msg}]});case 14:a.next=20;break;case 16:return a.prev=16,a.t0=a.catch(0),a.next=20,Object(c.put)({type:u.d.SAVE_DATA_FAIL,payload:[{key:"save_data",header:"Ошибка сохранения!",msg:a.t0.msg}]});case 20:case"end":return a.stop()}},f,this,[[0,16]])}function s(){var e;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(c.select)(function(e){return e.common});case 2:return e=t.sent,t.next=5,Object(c.put)(u.a.setData({date_from:Object(l.b)(e.weekends).format("DD.MM.YYYY HH:mm"),date_to:Object(l.b)(e.weekends).add(60,"m").format("DD.MM.YYYY HH:mm")}));case 5:case"end":return t.stop()}},h,this)}t.a=n,t.c=o,t.b=s;var r=a("Xxa5"),i=a.n(r),c=a("egdi"),l=a("rO21"),d=a("A+wH"),u=a("+fru"),m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},p=i.a.mark(n),f=i.a.mark(o),h=i.a.mark(s),v=function(e){var t=[];return""!==e.date_from&&Object(l.d)(e.date_from)||t.push({key:"date_from",header:"Ошибка!",msg:"Неверный формат даты начала."}),e.reason&&""!==e.reason||t.push({key:"reason",header:"Ошибка!",msg:"Не задана причина."}),""!==e.date_to&&Object(l.d)(e.date_to)||t.push({key:"date_to",header:"Ошибка!",msg:"Неверный формат даты окончания."}),Object(l.e)(e.date_from)>Object(l.e)(e.date_to)&&t.push({key:"date_to",header:"Ошибка!",msg:"Дата начала не может превышать дату окончания."}),e.notify_moscow||e.notify_kaluga||e.notify_penza||t.push({key:"notify_place",header:"Ошибка!",msg:"Не выбран адресат для оповещения."}),t}},GFH5:function(e,t,a){"use strict";var n=a("U7vG"),o=a("DT0+"),s=a("BEQ0"),r=a("qFNz").default,i=r(o({getInitialState:function(){return this.calculateState(this.props)},calculateState:function(e){var t=e.selectedDate||e.viewDate,a=e.timeFormat,n=[];-1!==a.toLowerCase().indexOf("h")&&(n.push("hours"),-1!==a.indexOf("m")&&(n.push("minutes"),-1!==a.indexOf("s")&&n.push("seconds")));var o=t.format("H"),s=!1;return null!==this.state&&-1!==this.props.timeFormat.toLowerCase().indexOf(" a")&&(s=-1!==this.props.timeFormat.indexOf(" A")?o>=12?"PM":"AM":o>=12?"pm":"am"),{hours:o,minutes:t.format("mm"),seconds:t.format("ss"),milliseconds:t.format("SSS"),daypart:s,counters:n}},renderCounter:function(e){if("daypart"!==e){var t=this.state[e];return"hours"===e&&-1!==this.props.timeFormat.toLowerCase().indexOf(" a")&&0===(t=(t-1)%12+1)&&(t=12),n.createElement("div",{key:e,className:"rdtCounter"},[n.createElement("span",{key:"up",className:"rdtBtn",onMouseDown:this.onStartClicking("increase",e),onContextMenu:this.disableContextMenu},"▲"),n.createElement("div",{key:"c",className:"rdtCount"},t),n.createElement("span",{key:"do",className:"rdtBtn",onMouseDown:this.onStartClicking("decrease",e),onContextMenu:this.disableContextMenu},"▼")])}return""},renderDayPart:function(){return n.createElement("div",{key:"dayPart",className:"rdtCounter"},[n.createElement("span",{key:"up",className:"rdtBtn",onMouseDown:this.onStartClicking("toggleDayPart","hours"),onContextMenu:this.disableContextMenu},"▲"),n.createElement("div",{key:this.state.daypart,className:"rdtCount"},this.state.daypart),n.createElement("span",{key:"do",className:"rdtBtn",onMouseDown:this.onStartClicking("toggleDayPart","hours"),onContextMenu:this.disableContextMenu},"▼")])},render:function(){var e=this,t=[];return this.state.counters.forEach(function(a){t.length&&t.push(n.createElement("div",{key:"sep"+t.length,className:"rdtCounterSeparator"},":")),t.push(e.renderCounter(a))}),!1!==this.state.daypart&&t.push(e.renderDayPart()),3===this.state.counters.length&&-1!==this.props.timeFormat.indexOf("S")&&(t.push(n.createElement("div",{className:"rdtCounterSeparator",key:"sep5"},":")),t.push(n.createElement("div",{className:"rdtCounter rdtMilli",key:"m"},n.createElement("input",{value:this.state.milliseconds,type:"text",onChange:this.updateMilli})))),n.createElement("div",{className:"rdtTime"},n.createElement("table",{},[this.renderHeader(),n.createElement("tbody",{key:"b"},n.createElement("tr",{},n.createElement("td",{},n.createElement("div",{className:"rdtCounters"},t))))]))},componentWillMount:function(){var e=this;e.timeConstraints={hours:{min:0,max:23,step:1},minutes:{min:0,max:59,step:1},seconds:{min:0,max:59,step:1},milliseconds:{min:0,max:999,step:1}},["hours","minutes","seconds","milliseconds"].forEach(function(t){s(e.timeConstraints[t],e.props.timeConstraints[t])}),this.setState(this.calculateState(this.props))},componentWillReceiveProps:function(e){this.setState(this.calculateState(e))},updateMilli:function(e){var t=parseInt(e.target.value,10);t===e.target.value&&t>=0&&t<1e3&&(this.props.setTime("milliseconds",t),this.setState({milliseconds:t}))},renderHeader:function(){if(!this.props.dateFormat)return null;var e=this.props.selectedDate||this.props.viewDate;return n.createElement("thead",{key:"h"},n.createElement("tr",{},n.createElement("th",{className:"rdtSwitch",colSpan:4,onClick:this.props.showView("days")},e.format(this.props.dateFormat))))},onStartClicking:function(e,t){var a=this;return function(){var n={};n[t]=a[e](t),a.setState(n),a.timer=setTimeout(function(){a.increaseTimer=setInterval(function(){n[t]=a[e](t),a.setState(n)},70)},500),a.mouseUpListener=function(){clearTimeout(a.timer),clearInterval(a.increaseTimer),a.props.setTime(t,a.state[t]),document.body.removeEventListener("mouseup",a.mouseUpListener)},document.body.addEventListener("mouseup",a.mouseUpListener)}},disableContextMenu:function(e){return e.preventDefault(),!1},padValues:{hours:1,minutes:2,seconds:2,milliseconds:3},toggleDayPart:function(e){var t=parseInt(this.state[e],10)+12;return t>this.timeConstraints[e].max&&(t=this.timeConstraints[e].min+(t-(this.timeConstraints[e].max+1))),this.pad(e,t)},increase:function(e){var t=parseInt(this.state[e],10)+this.timeConstraints[e].step;return t>this.timeConstraints[e].max&&(t=this.timeConstraints[e].min+(t-(this.timeConstraints[e].max+1))),this.pad(e,t)},decrease:function(e){var t=parseInt(this.state[e],10)-this.timeConstraints[e].step;return t<this.timeConstraints[e].min&&(t=this.timeConstraints[e].max+1-(this.timeConstraints[e].min-t)),this.pad(e,t)},pad:function(e,t){for(var a=t+"";a.length<this.padValues[e];)a="0"+a;return a},handleClickOutside:function(){this.props.handleClickOutside()}}));e.exports=i},"MPG+":function(e,t,a){"use strict";var n=a("RH2O"),o=a("Y1vG");t.a=Object(n.connect)(function(e){return{fetching:e.common.fetching,user:e.common.user,menu:e.common.menu,currentPage:e.common.currentPage,msg:e.common.msg}})(o.a)},O9pB:function(e,t,a){"use strict";function n(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(r.all)([Object(r.takeLatest)(c.c.GET_DATA_REQUEST,i.a),Object(r.takeLatest)(c.c.GET_DATA_SUCCESS,d.b),Object(r.takeLatest)(l.d.SAVE_DATA_REQUEST,d.c),Object(r.takeLatest)(l.d.CHECK_DATA,d.a)]);case 2:case"end":return e.stop()}},u,this)}t.a=n;var o=a("Xxa5"),s=a.n(o),r=a("egdi"),i=a("+WPO"),c=a("TRMA"),l=a("+fru"),d=a("FCou"),u=s.a.mark(n)},Teqk:function(e,t,a){"use strict";function n(e){var t=Object(o.createStore)(i.a,e,Object(r.composeWithDevTools)(Object(o.applyMiddleware)(l)));return l.run(c.a),t}t.a=n;var o=a("2KeS"),s=a("igqX"),r=a("gFN5"),i=(a.n(r),a("5f0w")),c=a("O9pB"),l=Object(s.default)()},Y1vG:function(e,t,a){"use strict";a.d(t,"a",function(){return p});var n=a("U7vG"),o=a.n(n),s=a("KSGD"),r=(a.n(s),a("qMoa")),i=a.n(r),c=a("dSCi"),l=a("EvIk"),d=a("u8lR"),u=a.n(d),m=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,a,n,o){var s=t&&t.defaultProps,r=arguments.length-3;if(a||0===r||(a={}),a&&s)for(var i in s)void 0===a[i]&&(a[i]=s[i]);else a||(a=s||{});if(1===r)a.children=o;else if(r>1){for(var c=Array(r),l=0;l<r;l++)c[l]=arguments[l+3];a.children=c}return{$$typeof:e,type:t,key:void 0===n?null:""+n,ref:null,props:a,_owner:null}}}(),p=function(e){return m("div",{className:u.a.root},void 0,m(i.a,{loaded:!e.fetching,options:{length:10,width:8,radius:20,color:"#000",trail:40},className:u.a.spinner},void 0,o.a.createElement(c.a,e),m(l.a,{})))};p.defaultProps={fetching:!1}},a7ZT:function(e,t,a){"use strict";var n=a("U7vG"),o=a.n(n),s=a("8ijy"),r=a.n(s),i=a("KSGD"),c=(a.n(i),a("rO21")),l=a("hL7z"),d=(a.n(l),a("qMoa")),u=a.n(d),m=a("u8lR"),p=a.n(m),f=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,a,n,o){var s=t&&t.defaultProps,r=arguments.length-3;if(a||0===r||(a={}),a&&s)for(var i in s)void 0===a[i]&&(a[i]=s[i]);else a||(a=s||{});if(1===r)a.children=o;else if(r>1){for(var c=Array(r),l=0;l<r;l++)c[l]=arguments[l+3];a.children=c}return{$$typeof:e,type:t,key:void 0===n?null:""+n,ref:null,props:a,_owner:null}}}(),h=function(e){return function(t){switch(t){case"edit":return o.a.createElement(D,e);case"view":return o.a.createElement(y,e);case"result":return o.a.createElement(v,e);default:return o.a.createElement(D,e)}}(e.mode)},v=function(e){return f("div",{className:"container"},void 0,f("div",{className:"row"},void 0,f("div",{className:"col-md-8 col-md-offset-2"},void 0,f("form",{className:"form-horizontal "+p.a.mainForm},void 0,f("fieldset",{},void 0,f("legend",{},void 0,"Данные успешно сохранены"),f("div",{className:"form-group"},void 0,f("span",{className:"col-sm-12"},void 0,"Если хотите отправить еще одно уведомление, нажмите на кнопку - ",f("strong",{},void 0,"Продолжить"))),f("div",{className:"form-group"},void 0,f("div",{className:"col-sm-10 col-sm-offset-2"},void 0,f("div",{className:"pull-right"},void 0,f("button",{type:"button",className:"btn btn-primary",onClick:function(){e.setData({mode:"edit"})}},void 0,"Продолжить")))))))))},y=function(e){return f("div",{className:"container"},void 0,f("div",{className:"row"},void 0,f("div",{className:"col-md-8 col-md-offset-2"},void 0,f("form",{className:"form-horizontal "+p.a.mainForm},void 0,f("fieldset",{},void 0,f("legend",{},void 0,"Проверьте данные"),f("div",{className:"form-group"},void 0,f("span",{className:"control-label col-sm-2 "+p.a.controlLabel},void 0,f("strong",{},void 0,"Причина:")),f("div",{className:"col-sm-10"},void 0,e.reasons.find(function(t){return t.key===e.reason}).name,"yes"===e.is_full_day?" (весь день)":"")),f("div",{className:"form-group"},void 0,f("span",{className:"control-label col-sm-2 "+p.a.controlLabel},void 0,f("strong",{},void 0,"Дата с:")),f("div",{className:"col-sm-10"},void 0,"yes"===e.is_full_day?Object(c.e)(e.date_from).format("DD.MM.YYYY"):e.date_from)),f("div",{className:"form-group"},void 0,f("span",{className:"control-label col-sm-2 "+p.a.controlLabel},void 0,f("strong",{},void 0,"Дата по:")),f("div",{className:"col-sm-10"},void 0,"yes"===e.is_full_day?Object(c.e)(e.date_to).format("DD.MM.YYYY"):e.date_to)),f("div",{className:"form-group"},void 0,f("span",{className:"control-label col-sm-2 "+p.a.controlLabel},void 0,f("strong",{},void 0,"Уведомить:")),f("div",{className:"col-sm-10"},void 0,e.notify_moscow?"Москва; ":"",e.notify_kaluga?"Калуга; ":"",e.notify_penza?"Пенза ":"")),f("div",{className:"form-group"},void 0,f("span",{className:"control-label col-sm-2 "+p.a.controlLabel},void 0,f("strong",{},void 0,"Примечание:")),f("div",{className:"col-sm-10"},void 0,e.comment.split("\n").map(function(e){return f("div",{},e,e)}))),f("div",{className:"formGroup"},void 0,f("div",{className:"col-sm-10 col-sm-offset-2"},void 0,f("div",{className:"alert alert-danger",role:"alert",style:e.errors.length>0?{}:{display:"none"}},void 0,e.errors.map(function(e){return f("div",{},e.key,f("strong",{},void 0,e.header)," ",e.msg)})))),f("div",{className:"form-group"},void 0,f("div",{className:"col-sm-10 col-sm-offset-2"},void 0,f("div",{className:"pull-right"},void 0,f("button",{type:"button",className:"btn btn-default",disabled:e.saving?"true":"",onClick:function(){e.setData({mode:"edit"})}},void 0,"Назад"),"  ",f("button",{type:"button",className:"btn btn-primary",disabled:e.saving?"true":"",onClick:function(){e.saveData()}},void 0,"Отправить")))))))),f(u.a,{loaded:!e.saving,options:{length:10,width:8,radius:20,color:"#000",trail:40},className:p.a.spinner}))};y.defaultProps={weekends:[],errors:[]};var D=function(e){var t=function(e){return e.isAfter(r.a.moment().subtract(1,"day"))&&0!==e.day()&&6!==e.day()},a=function(){return Object(c.b)(e.weekends)};return f("div",{className:"container"},void 0,f("div",{className:"row"},void 0,f("div",{className:"col-md-8 col-md-offset-2"},void 0,f("form",{className:"form-horizontal "+p.a.mainForm,onSubmit:function(t){t.preventDefault(),e.previewData()}},void 0,f("fieldset",{},void 0,f("legend",{},void 0,"Заполните форму"),f("div",{className:"form-group"},void 0,f("span",{className:"control-label col-sm-2",htmlFor:"input"},void 0,"Причина:"),f("div",{className:"col-sm-6"},void 0,f("div",{className:"checkbox"},void 0,f("select",{value:e.reason,onChange:function(t){e.setData({reason:t.target.value})}},void 0,f("option",{value:""},void 0,"Выберите причину"),e.reasons.map(function(e){return f("option",{value:e.key},e.key,e.name)}))))),f("div",{className:"form-group"},void 0,f("div",{className:"col-sm-5 col-sm-offset-2"},void 0,f("div",{className:"checkbox"},void 0,f("label",{htmlFor:"isFullDay"},void 0,f("input",{type:"checkbox",id:"isFullDay",checked:"yes"===e.is_full_day,onChange:function(t){e.setData({is_full_day:t.target.checked?"yes":"no"})}}),"Весь день")))),f("div",{className:"form-group"},void 0,f("span",{className:"col-sm-2 control-label",htmlFor:"input"},void 0,"Дата с:"),f("div",{className:"col-sm-10"},void 0,f(r.a,{id:"dateFrom",locale:"ru",isValidDate:t,closeOnTab:!0,defaultValue:e.date_from?Object(c.e)(e.date_from):a(),closeOnSelect:!0,timeFormat:"yes"!==e.is_full_day,onChange:function(t){e.setData({date_from:Object(c.c)(t)?t.format("DD.MM.YYYY HH:mm"):t})}}))),f("div",{className:"form-group"},void 0,f("span",{className:"col-sm-2 control-label",htmlFor:"input"},void 0,"Дата по:"),f("div",{className:"col-sm-10"},void 0,f(r.a,{id:"dateTo",locale:"ru",isValidDate:t,closeOnTab:!0,defaultValue:e.date_to?Object(c.e)(e.date_to):a(),closeOnSelect:!0,timeFormat:"yes"!==e.is_full_day,onChange:function(t){e.setData({date_to:Object(c.c)(t)?t.format("DD.MM.YYYY HH:mm"):t})}}))),f("div",{className:"form-group"},void 0,f("span",{className:"col-sm-2 control-label",htmlFor:"input"},void 0,"Уведомить: "),f("div",{className:"col-sm-5"},void 0,f("div",{className:"row"},void 0,f("div",{className:"col-sm-3"},void 0,f("div",{className:"checkbox"},void 0,f("label",{htmlFor:"cbNotifyMoscow"},void 0,f("input",{type:"checkbox",id:"cbNotifyMoscow",value:"notify_moscow",checked:e.notify_moscow,onChange:function(t){e.setData({notify_moscow:t.target.checked})}}),"Москва"))),f("div",{className:"col-sm-3"},void 0,f("div",{className:"checkbox"},void 0,f("label",{htmlFor:"cbNotifyKaluga"},void 0,f("input",{type:"checkbox",id:"cbNotifyKaluga",value:"notify_kaluga",checked:e.notify_kaluga,onChange:function(t){e.setData({notify_kaluga:t.target.checked})}}),"Калуга"))),f("div",{className:"col-sm-3"},void 0,f("div",{className:"checkbox"},void 0,f("label",{htmlFor:"cbNotifyPenza"},void 0,f("input",{type:"checkbox",id:"cbNotifyPenza",value:"notify_penza",checked:e.notify_penza,onChange:function(t){e.setData({notify_penza:t.target.checked})}}),"Пенза")))))),f("div",{className:"form-group"},void 0,f("div",{className:"col-sm-10 col-sm-offset-2"},void 0,f("textarea",{id:"tbNote",className:"form-control",placeholder:"Примечание (не обязательно)",value:e.comment,onChange:function(t){e.setData({comment:t.target.value})}}))),f("div",{className:"formGroup"},void 0,f("div",{className:"col-sm-10 col-sm-offset-2"},void 0,f("div",{className:"alert alert-danger",role:"alert",style:e.errors.length>0?{}:{display:"none"}},void 0,e.errors.map(function(e){return f("div",{},e.key,f("strong",{},void 0,e.header)," ",e.msg)})))),f("div",{className:"form-group"},void 0,f("div",{className:"col-sm-10 col-sm-offset-2"},void 0,f("div",{className:"pull-right"},void 0,f("button",{type:"submit",className:"btn btn-primary"},void 0,"Далее")))))))))};D.defaultProps={weekends:[],date_from:"",date_to:"",errors:[]},t.a=h},hL7z:function(e,t){},hu8i:function(e,t,a){"use strict";var n=a("U7vG"),o=a("DT0+"),s=a("BQ7U"),r=a("stop"),i=a("6rjW"),c=a("GFH5"),l=o({viewComponents:{days:s,months:r,years:i,time:c},render:function(){return n.createElement(this.viewComponents[this.props.view],this.props.viewProps)}});e.exports=l},kDwq:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("U7vG"),o=(a.n(n),a("O27J")),s=(a.n(o),a("RH2O")),r=a("TRMA"),i=a("Teqk"),c=a("MPG+"),l=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,a,n,o){var s=t&&t.defaultProps,r=arguments.length-3;if(a||0===r||(a={}),a&&s)for(var i in s)void 0===a[i]&&(a[i]=s[i]);else a||(a=s||{});if(1===r)a.children=o;else if(r>1){for(var c=Array(r),l=0;l<r;l++)c[l]=arguments[l+3];a.children=c}return{$$typeof:e,type:t,key:void 0===n?null:""+n,ref:null,props:a,_owner:null}}}(),d=Object(i.a)();Object(o.render)(l(s.Provider,{store:d},void 0,l(c.a,{})),document.getElementById("root")),d.dispatch(r.a.getCommonData("absence"))},qFNz:function(e,t,a){"use strict";function n(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function o(e,t){if(null==e)return{};var a,n,o={},s=Object.keys(e);for(n=0;n<s.length;n++)a=s[n],t.indexOf(a)>=0||(o[a]=e[a]);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(o[a]=e[a])}return o}function s(e,t,a){return e===t||(e.correspondingElement?e.correspondingElement.classList.contains(a):e.classList.contains(a))}function r(e,t,a){if(e===t)return!0;for(;e.parentNode;){if(s(e,t,a))return!0;e=e.parentNode}return e}function i(e){return document.documentElement.clientWidth<=e.clientX||document.documentElement.clientHeight<=e.clientY}function c(e,t){var a,s;return s=a=function(a){function s(e){var t;return t=a.call(this,e)||this,t.__outsideClickHandler=function(e){if("function"==typeof t.__clickOutsideHandlerProp)return void t.__clickOutsideHandlerProp(e);var a=t.getInstance();if("function"==typeof a.props.handleClickOutside)return void a.props.handleClickOutside(e);if("function"==typeof a.handleClickOutside)return void a.handleClickOutside(e);throw new Error("WrappedComponent lacks a handleClickOutside(event) function for processing outside click events.")},t.enableOnClickOutside=function(){if("undefined"!=typeof document&&!h[t._uid]){void 0===l&&(l=m()),h[t._uid]=!0;var e=t.props.eventTypes;e.forEach||(e=[e]),f[t._uid]=function(e){if(!t.props.disableOnClickOutside&&null!==t.componentNode&&(t.props.preventDefault&&e.preventDefault(),t.props.stopPropagation&&e.stopPropagation(),!t.props.excludeScrollbar||!i(e))){r(e.target,t.componentNode,t.props.outsideClickIgnoreClass)===document&&t.__outsideClickHandler(e)}},e.forEach(function(e){var a=null;-1!==v.indexOf(e)&&l&&(a={passive:!t.props.preventDefault}),document.addEventListener(e,f[t._uid],a)})}},t.disableOnClickOutside=function(){delete h[t._uid];var e=f[t._uid];if(e&&"undefined"!=typeof document){var a=t.props.eventTypes;a.forEach||(a=[a]),a.forEach(function(t){return document.removeEventListener(t,e)}),delete f[t._uid]}},t.getRef=function(e){return t.instanceRef=e},t._uid=p(),t}n(s,a);var c=s.prototype;return c.getInstance=function(){if(!e.prototype.isReactComponent)return this;var t=this.instanceRef;return t.getInstance?t.getInstance():t},c.componentDidMount=function(){if("undefined"!=typeof document&&document.createElement){var e=this.getInstance();if(t&&"function"==typeof t.handleClickOutside&&(this.__clickOutsideHandlerProp=t.handleClickOutside(e),"function"!=typeof this.__clickOutsideHandlerProp))throw new Error("WrappedComponent lacks a function for processing outside click events specified by the handleClickOutside config option.");this.componentNode=Object(u.findDOMNode)(this.getInstance()),this.enableOnClickOutside()}},c.componentDidUpdate=function(){this.componentNode=Object(u.findDOMNode)(this.getInstance())},c.componentWillUnmount=function(){this.disableOnClickOutside()},c.render=function(){var t=this.props,a=(t.excludeScrollbar,o(t,["excludeScrollbar"]));return e.prototype.isReactComponent?a.ref=this.getRef:a.wrappedRef=this.getRef,a.disableOnClickOutside=this.disableOnClickOutside,a.enableOnClickOutside=this.enableOnClickOutside,Object(d.createElement)(e,a)},s}(d.Component),a.displayName="OnClickOutside("+(e.displayName||e.name||"Component")+")",a.defaultProps={eventTypes:["mousedown","touchstart"],excludeScrollbar:t&&t.excludeScrollbar||!1,outsideClickIgnoreClass:y,preventDefault:!1,stopPropagation:!1},a.getClass=function(){return e.getClass?e.getClass():e},s}Object.defineProperty(t,"__esModule",{value:!0}),a.d(t,"IGNORE_CLASS_NAME",function(){return y});var l,d=a("U7vG"),u=(a.n(d),a("O27J")),m=(a.n(u),function(){if("undefined"!=typeof window&&"function"==typeof window.addEventListener){var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}}),a=function(){};return window.addEventListener("testPassiveEventSupport",a,t),window.removeEventListener("testPassiveEventSupport",a,t),e}}),p=function(e){return void 0===e&&(e=0),function(){return++e}}(),f={},h={},v=["touchstart","touchmove"],y="ignore-react-onclickoutside";t.default=c},stop:function(e,t,a){"use strict";function n(e){return e.charAt(0).toUpperCase()+e.slice(1)}var o=a("U7vG"),s=a("DT0+"),r=a("qFNz").default,i=r(s({render:function(){return o.createElement("div",{className:"rdtMonths"},[o.createElement("table",{key:"a"},o.createElement("thead",{},o.createElement("tr",{},[o.createElement("th",{key:"prev",className:"rdtPrev",onClick:this.props.subtractTime(1,"years")},o.createElement("span",{},"‹")),o.createElement("th",{key:"year",className:"rdtSwitch",onClick:this.props.showView("years"),colSpan:2,"data-value":this.props.viewDate.year()},this.props.viewDate.year()),o.createElement("th",{key:"next",className:"rdtNext",onClick:this.props.addTime(1,"years")},o.createElement("span",{},"›"))]))),o.createElement("table",{key:"months"},o.createElement("tbody",{key:"b"},this.renderMonths()))])},renderMonths:function(){for(var e,t,a,n,s,r,i,c=this.props.selectedDate,l=this.props.viewDate.month(),d=this.props.viewDate.year(),u=[],m=0,p=[],f=this.props.renderMonth||this.renderMonth,h=this.props.isValidDate||this.alwaysValidDate;m<12;)e="rdtMonth",a=this.props.viewDate.clone().set({year:d,month:m,date:1}),s=a.endOf("month").format("D"),r=Array.from({length:s},function(e,t){return t+1}),i=r.find(function(e){var t=a.clone().set("date",e);return h(t)}),n=void 0===i,n&&(e+=" rdtDisabled"),c&&m===c.month()&&d===c.year()&&(e+=" rdtActive"),t={key:m,"data-value":m,className:e},n||(t.onClick="months"===this.props.updateOn?this.updateSelectedMonth:this.props.setDate("month")),p.push(f(t,m,d,c&&c.clone())),4===p.length&&(u.push(o.createElement("tr",{key:l+"_"+u.length},p)),p=[]),m++;return u},updateSelectedMonth:function(e){this.props.updateSelectedDate(e)},renderMonth:function(e,t){var a=this.props.viewDate,s=a.localeData().monthsShort(a.month(t)),r=s.substring(0,3);return o.createElement("td",e,n(r))},alwaysValidDate:function(){return 1},handleClickOutside:function(){this.props.handleClickOutside()}}));e.exports=i},u8lR:function(e,t){e.exports={mainForm:"__mainForm___1GY07",controlLabel:"__controlLabel___1rRYF"}}},["kDwq"]);
//# sourceMappingURL=93fca9fa7fe26cbfe48c.bundle.js.map